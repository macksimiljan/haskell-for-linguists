<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Trees</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Trees.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">ml</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Trees</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">The Tree datatype</a><ul><li><a href="#g:2">Basic operations on Trees</a></li></ul></li><li><a href="#g:3">Some List functions defined in class</a><ul><li><a href="#g:4">Viewing Lists as Trees</a></li><li><a href="#g:5">Generalizing <code>laenge</code></a></li><li><a href="#g:6">Generalizing <code>topDown</code></a></li><li><a href="#g:7">Generalizing <code>bottomUp</code></a></li><li><a href="#g:8">Generalizing <code>final</code></a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Here we define trees, and generalize functions on strings to functions on trees </p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Tree">Tree</a> a = <a href="#v:Node">Node</a> a [<a href="Trees.html#t:Tree">Tree</a> a]</li><li class="src short"><a href="#v:isLeaf">isLeaf</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; Bool</li><li class="src short"><a href="#v:mother">mother</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; a</li><li class="src short"><a href="#v:daughters">daughters</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [<a href="Trees.html#t:Tree">Tree</a> a]</li><li class="src short"><a href="#v:laenge">laenge</a> :: [a] -&gt; Int</li><li class="src short"><a href="#v:topDown">topDown</a> :: [a] -&gt; [a]</li><li class="src short"><a href="#v:bottomUp">bottomUp</a> :: [a] -&gt; [a]</li><li class="src short"><a href="#v:final">final</a> :: [t] -&gt; [t]</li><li class="src short"><a href="#v:list2Tree">list2Tree</a> :: [a] -&gt; <a href="Trees.html#t:Tree">Tree</a> a</li><li class="src short"><a href="#v:countNodes">countNodes</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; Int</li><li class="src short"><a href="#v:depth">depth</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; Int</li><li class="src short"><a href="#v:td">td</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a]</li><li class="src short"><a href="#v:bf">bf</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a]</li><li class="src short"><a href="#v:extractPaths">extractPaths</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [[a]]</li><li class="src short"><a href="#v:bu">bu</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a]</li><li class="src short"><a href="#v:lc">lc</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a]</li><li class="src short"><a href="#v:glc">glc</a> :: Int -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a]</li><li class="src short"><a href="#v:yield">yield</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a]</li><li class="src short"><a href="#v:rev_yield">rev_yield</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a]</li></ul></div><div id="interface"><h1 id="g:1">The Tree datatype</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Tree" class="def">Tree</a> a <a href="#t:Tree" class="selflink">#</a></p><div class="doc"><p>An object of type <code><code><a href="Trees.html#t:Tree">Tree</a></code> a</code>, for any type <code>a</code>, consists of an
   object of type <code>a</code>, followed by a list of objects of type <code><code><a href="Trees.html#t:Tree">Tree</a></code>
   a</code>.  This kind of object is written as <code><code><a href="Trees.html#v:Node">Node</a></code> a [t1,...,tn]</code>.
   This (and more!) is already implemented in the module
   <a href="https://hackage.haskell.org/package/containers-0.5.10.2/docs/Data-Tree.html">Data.Tree</a>. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Node" class="def">Node</a> a [<a href="Trees.html#t:Tree">Tree</a> a]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Tree" class="caption collapser" onclick="toggleSection('i:Tree')">Instances</p><div id="section.i:Tree" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Tree:Functor:1" class="instance expander" onclick="toggleSection('i:id:Tree:Functor:1')"></span> Functor <a href="Trees.html#t:Tree">Tree</a></span> <a href="#t:Tree" class="selflink">#</a></td><td class="doc"><p>As we mentioned in class, a <code><a href="Trees.html#t:Tree">Tree</a></code> is a structure which
 <em>contains</em> data.  We would like a way of changing the data inside
 of a structure.  This is what the function <code>fmap</code> does.  Because the
 idea of &quot;changing data inside of a structure&quot; is more general than
 the specific case of trees, there is a <strong>class</strong> <code>Functor</code> which is
 the kind of structure that supports this sort of operation.  We
 declare <code><a href="Trees.html#t:Tree">Tree</a></code> to be that kind of structure as follows: </p><p>Note that the first call to <code>fmap</code> on the right hand side is the
 <code>fmap</code> for <em>lists</em>.  (Lists are a built-in datatype in Haskell, and
 are already declared as being <code>Functor</code>s.)</p></td></tr><tr><td colspan="2"><div id="section.i:id:Tree:Functor:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> b</p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Trees.html#t:Tree">Tree</a> b -&gt; <a href="Trees.html#t:Tree">Tree</a> a</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Tree:Ngrams:2" class="instance expander" onclick="toggleSection('i:id:Tree:Ngrams:2')"></span> <a href="TreeGrams.html#t:Ngrams">Ngrams</a> <a href="Trees.html#t:Tree">Tree</a></span> <a href="#t:Ngrams" class="selflink">#</a></td><td class="doc"><p>A <code><a href="Trees.html#t:Tree">Tree</a></code> is also an instance of the class <code>Ngram</code>.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Tree:Ngrams:2" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> N (<a href="Trees.html#t:Tree">Tree</a> :: * -&gt; *) a :: *</p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:extractNgrams">extractNgrams</a> :: Int -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; [N <a href="Trees.html#t:Tree">Tree</a> a]</p><p class="src"><a href="#v:degree">degree</a> :: N <a href="Trees.html#t:Tree">Tree</a> a -&gt; Int</p><p class="src"><a href="#v:isNLicensed">isNLicensed</a> :: Eq (N <a href="Trees.html#t:Tree">Tree</a> a) =&gt; [N <a href="Trees.html#t:Tree">Tree</a> a] -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Tree:Bigrams:3" class="instance expander" onclick="toggleSection('i:id:Tree:Bigrams:3')"></span> <a href="TreeGrams.html#t:Bigrams">Bigrams</a> <a href="Trees.html#t:Tree">Tree</a></span> <a href="#t:Bigrams" class="selflink">#</a></td><td class="doc"><p>We can make <code><a href="Trees.html#t:Tree">Tree</a></code> into an instance of class <code><a href="TreeGrams.html#t:Bigrams">Bigrams</a></code>.  Because
 we want to keep the default definition of <code>is2Licensed</code>, we do not
 need to redefine it in the instance.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Tree:Bigrams:3" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> Bi (<a href="Trees.html#t:Tree">Tree</a> :: * -&gt; *) a :: *</p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:extract2grams">extract2grams</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [Bi <a href="Trees.html#t:Tree">Tree</a> a]</p><p class="src"><a href="#v:is2Licensed">is2Licensed</a> :: Eq (Bi <a href="Trees.html#t:Tree">Tree</a> a) =&gt; [Bi <a href="Trees.html#t:Tree">Tree</a> a] -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Tree:Eq:4" class="instance expander" onclick="toggleSection('i:id:Tree:Eq:4')"></span> Eq a =&gt; Eq (<a href="Trees.html#t:Tree">Tree</a> a)</span> <a href="#t:Tree" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Tree:Eq:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; Bool</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Tree:Ord:5" class="instance expander" onclick="toggleSection('i:id:Tree:Ord:5')"></span> Ord a =&gt; Ord (<a href="Trees.html#t:Tree">Tree</a> a)</span> <a href="#t:Tree" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Tree:Ord:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; Ordering</p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; Bool</p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; Bool</p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; Bool</p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; Bool</p><p class="src"><a href="#v:max">max</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a</p><p class="src"><a href="#v:min">min</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; <a href="Trees.html#t:Tree">Tree</a> a</p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Tree:Show:6" class="instance expander" onclick="toggleSection('i:id:Tree:Show:6')"></span> Show a =&gt; Show (<a href="Trees.html#t:Tree">Tree</a> a)</span> <a href="#t:Tree" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Tree:Show:6" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Trees.html#t:Tree">Tree</a> a] -&gt; ShowS</p></div></div></td></tr></table></div></div></div><h2 id="g:2">Basic operations on Trees</h2><div class="top"><p class="src"><a id="v:isLeaf" class="def">isLeaf</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; Bool <a href="#v:isLeaf" class="selflink">#</a></p><div class="doc"><p>checks whether a <code><a href="Trees.html#t:Tree">Tree</a></code> is a leaf; i.e. whether it has any daughters</p></div></div><div class="top"><p class="src"><a id="v:mother" class="def">mother</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; a <a href="#v:mother" class="selflink">#</a></p><div class="doc"><p>returns the label of the root node</p></div></div><div class="top"><p class="src"><a id="v:daughters" class="def">daughters</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [<a href="Trees.html#t:Tree">Tree</a> a] <a href="#v:daughters" class="selflink">#</a></p><div class="doc"><p>returns the list of daughters of the root node</p></div></div><h1 id="g:3">Some List functions defined in class</h1><div class="top"><p class="src"><a id="v:laenge" class="def">laenge</a> :: [a] -&gt; Int <a href="#v:laenge" class="selflink">#</a></p><div class="doc"><p>counts the number of elements in a list.  (A more general version
 of this function already exists, and is called
 <a href="https://hackage.haskell.org/package/base-4.10.0.0/docs/Prelude.html#v:length">length</a>.)</p></div></div><div class="top"><p class="src"><a id="v:topDown" class="def">topDown</a> :: [a] -&gt; [a] <a href="#v:topDown" class="selflink">#</a></p><div class="doc"><p>takes apart a list, and puts it back together in the same order</p></div></div><div class="top"><p class="src"><a id="v:bottomUp" class="def">bottomUp</a> :: [a] -&gt; [a] <a href="#v:bottomUp" class="selflink">#</a></p><div class="doc"><p>takes apart a list, and puts it back together in the reverse order</p></div></div><div class="top"><p class="src"><a id="v:final" class="def">final</a> :: [t] -&gt; [t] <a href="#v:final" class="selflink">#</a></p><div class="doc"><p>maps a list to the list containing its final element. (A better
 version of this function already exists, and is called
 <a href="https://hackage.haskell.org/package/base-4.10.0.0/docs/Prelude.html#v:last">last</a>.)</p></div></div><h2 id="g:4">Viewing Lists as Trees</h2><div class="doc"><p>We would like to generalize the functions above to work on all
 trees.  They should of course treat monadic trees just like
 lists.  This means that for any list function <code>f</code>, we should
 have:</p><pre>f l = f' (list2Tree l)</pre><p>where <code>f'</code> is the tree generalization of <code>f</code>, and <code>list2Tree</code> is
 defined below.</p></div><div class="top"><p class="src"><a id="v:list2Tree" class="def">list2Tree</a> :: [a] -&gt; <a href="Trees.html#t:Tree">Tree</a> a <a href="#v:list2Tree" class="selflink">#</a></p><div class="doc"><p>In order to view a list as a monadic tree, we must explicitly
 define a coercion (this will only work if the list is non-empty).
 This is because, in Haskell, lists and trees are <strong>formally</strong>
 <strong>different</strong> types; a list is built out of empty lists <code>[]</code> using
 the constructor <code>:</code>, whereas trees are built using the constructor
 <code><code><a href="Trees.html#v:Node">Node</a></code></code>.  By defining this function, we are <strong>showing</strong> how we
 want to think of lists as trees.</p></div></div><h2 id="g:5">Generalizing <code>laenge</code></h2><div class="doc"><p>We would like to define generalizations of <code><a href="Trees.html#v:laenge">laenge</a></code> that work
 on all trees, not just <em>listy</em> trees.</p></div><div class="top"><p class="src"><a id="v:countNodes" class="def">countNodes</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; Int <a href="#v:countNodes" class="selflink">#</a></p><div class="doc"><dl><dt>Idea 1</dt><dd><code><a href="Trees.html#v:laenge">laenge</a></code> counts all the nodes of the tree
             (<code>sum</code> adds all the numbers in a list)</dd></dl></div></div><div class="top"><p class="src"><a id="v:depth" class="def">depth</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; Int <a href="#v:depth" class="selflink">#</a></p><div class="doc"><dl><dt>Idea 2</dt><dd><code><a href="Trees.html#v:laenge">laenge</a></code> counts how many levels there are in the tree,
          i.e. how deep it is (<code>maximum</code> finds the biggest number in
          a list.  It returns an error if the list is empty, and so
          I make sure the list is non-empty be putting a zero in
          it).</dd></dl></div></div><h2 id="g:6">Generalizing <code>topDown</code></h2><div class="doc"><p>We would like to generalize <code><a href="Trees.html#v:topDown">topDown</a></code> to work on all trees.</p></div><div class="top"><p class="src"><a id="v:td" class="def">td</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a] <a href="#v:td" class="selflink">#</a></p><div class="doc"><dl><dt>Idea 1</dt><dd><code><a href="Trees.html#v:topDown">topDown</a></code> visits mother before any daughters (<code>concat</code>
            concatenates a list of lists together from left to right)</dd></dl></div></div><div class="top"><p class="src"><a id="v:bf" class="def">bf</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a] <a href="#v:bf" class="selflink">#</a></p><div class="doc"><dl><dt>Idea 2</dt><dd><code><a href="Trees.html#v:topDown">topDown</a></code> visits each level at a time here it is easier to
          define a function operating on a list of trees.  So we
          define the generalization of <code><a href="Trees.html#v:topDown">topDown</a></code> in terms of this
          function.</dd></dl></div></div><div class="top"><p class="src"><a id="v:extractPaths" class="def">extractPaths</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [[a]] <a href="#v:extractPaths" class="selflink">#</a></p><div class="doc"><dl><dt>Idea 3</dt><dd><code><a href="Trees.html#v:topDown">topDown</a></code> extracts a list of all of the paths from a root
   to a leaf.  (Because <code><a href="Trees.html#v:topDown">topDown</a></code> is defined on a string, there is
   exactly one path, and it is returned, instead of the list
   containing it).</dd></dl></div></div><h2 id="g:7">Generalizing <code>bottomUp</code></h2><div class="doc"><p>We would like to generalize <code><a href="Trees.html#v:bottomUp">bottomUp</a></code> to work on all trees.</p></div><div class="top"><p class="src"><a id="v:bu" class="def">bu</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a] <a href="#v:bu" class="selflink">#</a></p><div class="doc"><dl><dt>Idea 1</dt><dd><code><a href="Trees.html#v:bottomUp">bottomUp</a></code> visits mother after all daughters</dd></dl></div></div><div class="top"><p class="src"><a id="v:lc" class="def">lc</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a] <a href="#v:lc" class="selflink">#</a></p><div class="doc"><dl><dt>Idea 2</dt><dd><code><a href="Trees.html#v:bottomUp">bottomUp</a></code> visits mother after first daughter (if any)</dd></dl></div></div><div class="top"><p class="src"><a id="v:glc" class="def">glc</a> :: Int -&gt; <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a] <a href="#v:glc" class="selflink">#</a></p><div class="doc"><dl><dt>Idea 3</dt><dd><code><a href="Trees.html#v:bottomUp">bottomUp</a></code> visits mother after first <strong>k</strong> daughters
 (if any).  Note that <code><code><a href="Trees.html#v:td">td</a></code> = <code><a href="Trees.html#v:glc">glc</a></code> 0</code>, and <code><code><a href="Trees.html#v:lc">lc</a></code> = <code><a href="Trees.html#v:glc">glc</a></code> 1</code>.
 <code>splitAt k</code> breaks a list <code>bs</code> in half at its \(k^{th}\) member.
 That is,</dd></dl><pre>splitAt k bs = (cs,ds)</pre><p>where</p><pre>laenge cs = k
cs ++ ds = bs</pre></div></div><h2 id="g:8">Generalizing <code>final</code></h2><div class="doc"><p>We would like to generalize <code><a href="Trees.html#v:final">final</a></code>.  The indeterminacy in
 projecting from lists to trees in this case comes from how to order
 the leaves of the daughters.</p></div><div class="top"><p class="src"><a id="v:yield" class="def">yield</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a] <a href="#v:yield" class="selflink">#</a></p><div class="doc"><dl><dt>Idea 1</dt><dd><code><a href="Trees.html#v:final">final</a></code> reads the list of leaves from left to right</dd></dl></div></div><div class="top"><p class="src"><a id="v:rev_yield" class="def">rev_yield</a> :: <a href="Trees.html#t:Tree">Tree</a> a -&gt; [a] <a href="#v:rev_yield" class="selflink">#</a></p><div class="doc"><dl><dt>Idea 2</dt><dd><code><a href="Trees.html#v:final">final</a></code> reads the list of leaves from right to left</dd></dl></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>